<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>업무보고 자동검증기</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.13/lib/codemirror.css" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h2>업무보고 자동검증기</h2>
      <div class="button-group help-group">
        <button id="helpBtn" class="help-btn">검증 규칙</button>
        <button id="changelogBtn" class="help-btn" style="margin-left:4px;">기능 추가 이력</button>
      </div>
      <textarea id="code" name="code">여기에 붙여넣으세요</textarea>
      <button id="checkBtn" class="check-btn">검증</button>
      <div id="result" class="result"></div>
    </div>

    <!-- 규칙 안내 모달 -->
    <div id="ruleModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>검증 규칙 안내</h3>
        <div class="rule-list">
          <h4>1. 공백 규칙</h4>
          <ul>
            <li>들여쓰기는 1칸 이상 금지</li>
            <li>콜론(:) 앞뒤 공백 금지</li>
            <li>꺾쇠(>) 앞뒤 공백 금지</li>
            <li>더하기(+) 앞뒤 반드시 공백 1칸</li>
            <li>콤마(,) 앞 공백 금지, 뒤 공백 1칸</li>
          </ul>
          <h4>2. 괄호 규칙</h4>
          <ul>
            <li>일반 괄호() 앞뒤/안쪽 공백 금지</li>
            <li>대괄호[] 앞뒤/안쪽 공백 금지</li>
            <li>날짜 표기는 (8/23), (~7/30) 형식만 허용</li>
          </ul>
          <h4>3. 분류 표기 규칙</h4>
          <ul>
            <li>대분류(1.) 뒤 공백 1칸</li>
            <li>대중분류((1)) 뒤 공백 1칸</li>
            <li>중분류(-) 뒤 공백 1칸</li>
            <li>소분류(․) 뒤 공백 1칸</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- 기능 추가 이력 모달 -->
    <div id="changelogModal" class="modal">
      <div class="modal-content">
        <span class="close changelog-close">&times;</span>
        <h3>기능 추가 이력</h3>
        <div class="rule-list">
          <ul>
            <li><b>v1.0.0</b> - 기본 UI, 규칙 안내, 자동 검증 기능</li>
            <li><b>v1.1.0</b> - 오류 클릭 시 행 이동 및 하이라이트</li>
            <li><b>v1.2.0</b> - 날짜/괄호/특수문자 하이라이트 개선</li>
            <li><b>v1.3.0</b> - 규칙 모달 ESC/배경 클릭 닫기, 반응형 UI</li>
            <li><b>v1.4.0</b> - 소분류 상태 중복 체크, 코드 리팩토링</li>
          </ul>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.13/lib/codemirror.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.13/mode/markdown/markdown.js"></script>
    <script src="main.js"></script>
  </body>
</html>
